# VRC_Fediverse_bridge
## コンセプト
VRChat内でFediverseに流れる投稿を表示するアセット

## 詳細設計

- VRChatにおいて使用できるように、Udon Sharp言語で記述を行う
- `TextDisplaySystem.cs`でJSONを取得する元のURLを設定できる（Unity上のGameObjectにアタッチする）
- `TextDisplaySystem.cs`でJSONを表示する先の`Text (TMP)`を設定します（Unity上のGameObjectにアタッチする）
- `webInterface.cs`は実際に`VRCStringDownloader`によってデータを取得します
- 

## バックエンドが提供するJSON形式(案)
```
"generation_time": "yyyymmddhhMMss"   
"post_count": 20
"posts": {
{
　"objectId": "example.instance.com/object/ids",
  "instance": "example.instance.com",
  "username": "example_user",
  "content": "これは投稿の本文です。",
  "userIconUrl": "https://example.com/user/icon.png",
  "attachments": [
    "https://example.com/attachment1.png",
    "https://example.com/attachment2.png"
  ]
},
}
```

## 基幹技術
- VRChat内で使用するUDON C＃言語によって記述されます。
- UdonのVRCStringDownloaderによってテキストを取得する（技術文書：https://creators.vrchat.com/worlds/udon/string-loading/）
- UdonのVRC JSONによってテキストをパースする（技術文書：https://creators.vrchat.com/worlds/udon/data-containers/vrcjson/）

## UdonSharpを使用する上での注意点
- Try/Catchは使用できない
- JsonUtilityは使用できない
- 型宣言のネストは使用できない

## 参考にするレポジトリ
*なおTaAGatheringListSystemはMITライセンス*
https://github.com/Azukimochi/TaAGatheringListSystem